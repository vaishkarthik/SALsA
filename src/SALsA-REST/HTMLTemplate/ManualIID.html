<!DOCTYPE html>
<html>

<body>

    <h1>SALSA - Manual IID</h1>

    <form name="manualRunForm" action="/manualrun/iid" method="post" enctype="text/plain">
        <!-- ICM ID -->
        <label for="icmid"><b>ICM : </b></label></br>
        <input type="number" id="icmid" name="icmid" min="0" placeholder="000000000" required><br><br>

        <!-- Subscription ID -->
        <label for="SubscriptionID">Subscription ID</label></br>
        <input type="text" id="SubscriptionID" name="SubscriptionID" placeholder="00000000-0000-0000-0000-000000000000" pattern="[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}" title="Use a valid GUID format" required><br><br>

        <!-- Resource Group -->
        <label for="ResourceGroupName">Resource Group</label></br>
        <input type="text" id="ResourceGroupName" name="ResourceGroupName" placeholder="salsa-prod" required><br><br>

        <!-- VM Name -->
        <label for="VMName">VM Name</label></br>
        <input type="text" id="VMName" name="VMName" placeholder="salsa" Title="If VMSS, you can remove id, or leave it for autoamtic detection" required><br><br>

        <!-- VM Name -->
        <label for="Instance">VMSS Id (if VMSS)</label></br>
        <input type="number" id="Instance" name="Instance" oninput="validate()" placeholder="(optional)" Title="If VMSS, include id, ex: myVM_3 will be 3. Leave empty otherwise"><br><br>

        <!-- Region-->
        <label for="Region">RegionName</label></br>
        <input type="text" id="Region" name="Region" oninput="validate()" placeholder="(optional)" Title="Exact region name, case sensitive. If empty, will automatically determine it from subscription."><br><br>

        <input type="submit" value="Submit">
    </form>
    <script>
        function validate() {
            if (manualRunForm.Region.value != '' || manualRunForm.Instance.value != '') {
                manualRunForm.Region.required = true;
                manualRunForm.Instance.required = true;

                manualRunForm.Region.placeholder = "0";
                manualRunForm.Instance.placeholder = "EastUS2";
            }
            else {
                manualRunForm.Region.required = true;
                manualRunForm.Instance.required = true;

                manualRunForm.Region.placeholder = "(optional)";
                manualRunForm.Instance.placeholder = "(optional)";
            }
        }
    </script>
</body>
<p> Note : If you put a VMSS Id, you must remove it from the VM Name (ex: myVM_3 would be myVM)</p>
<p> Note : If you set a VMSS Id, you must set a RegionName and vice versa</p>

</html>